(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6af972d8"],{"144a":function(e,t,n){"use strict";n("98fd")},"16f4":function(e,t,n){e.exports=n.p+"img/404.1cea37a1.png"},"1dde":function(e,t,n){var s=n("d039"),i=n("b622"),o=n("2d00"),r=i("species");e.exports=function(e){return o>=51||!s((function(){var t=[],n=t.constructor={};return n[r]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},2532:function(e,t,n){"use strict";var s=n("23e7"),i=n("5a34"),o=n("1d80"),r=n("ab13");s({target:"String",proto:!0,forced:!r("includes")},{includes:function(e){return!!~String(o(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},"37c3":function(e,t,n){"use strict";n("ddf1")},"44e7":function(e,t,n){var s=n("861d"),i=n("c6b6"),o=n("b622"),r=o("match");e.exports=function(e){var t;return s(e)&&(void 0!==(t=e[r])?!!t:"RegExp"==i(e))}},"57e1":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"appCont"}},[e.access?s("div",{staticClass:"survey"},[e._m(0),e.finished?e._e():s("h1",[e._v("Por favor, contesta con honestidad.")]),e.finished?e._e():s("questions",{on:{view:function(t){return e.showView(t)},finished:function(t){return e.showSend(t)},count:function(t){return e.setQuestionCount(t)},rejected:function(t){return e.handelRejection(t)}}}),e.finished?e._e():s("h2",[e._v("¡Recuerda enviar las respuestas al finalizar!")]),e.finished?e._e():s("p",{attrs:{id:"topP"}},[e._v("Tus respuesta son anonimas, no hay razón para estar preocupado por lo que conteste.")]),e.finished?e._e():s("p",[e._v("Haz click en las imagenes (si aparece alguna) para verlas en pantalla completa.")]),s("img",{attrs:{id:"svSpin",src:n("8aef")}}),e.finished?s("div",{attrs:{id:"finish"}},[s("div",{attrs:{id:"navC"}},[s("h2",{attrs:{id:"choosen"}},[e._v('Para enviar tus respuestas haz click en "enviar".')]),s("p",{attrs:{id:"changeAnsP"}},[e._v(' Si quieres cambiar alguna respuesta, en la parte de "ver respuestas" podras borrar la que quieras y luego volver a contestarla.')]),s("div",{staticClass:"nav",attrs:{id:"done"},on:{click:function(t){return e.done()}}},[s("span",{staticClass:"r_link"},[e._v("Enviar")])]),s("div",{staticClass:"nav",attrs:{id:"ansViewBtn"},on:{click:function(t){return e.loadAnswers()}}},[s("span",{staticClass:"r_link"},[e._v("Ver respuestas")])])]),s("div",{attrs:{id:"answersView"}})]):e._e()],1):e._e(),e._m(1),e.loading?s("img",{attrs:{id:"svSpinII",src:n("8aef")}}):e._e(),e.access||e.loading?e._e():s("div",{staticClass:"advc"},[s("img",{attrs:{src:"",id:"afterErrorImg"}}),s("h2",{attrs:{id:"afterError"}},[e._v(". . .")])])])},i=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ils_cont"},[s("img",{staticClass:"ils",attrs:{src:n("b5ea")}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"superView"}},[n("img",{attrs:{src:"",id:"superView_img"}})])}],o=(n("99af"),n("caad"),n("a434"),n("2532"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"control"}},[n("div",{attrs:{id:"back"},on:{click:function(t){return e.goBack()}}},[n("span",[e._v(e._s(e.char_01))])]),n("div",{attrs:{id:"view"}},[n("p",{attrs:{id:"question"}},[e._v(" "+e._s(e.currentQuestion)+" ")]),n("img",{attrs:{src:"",id:"viewImg"}}),n("div",{attrs:{id:"answers"}}),e._m(0)]),n("div",{attrs:{id:"next"},on:{click:function(t){return e.goNext()}}},[n("span",[e._v(">")])])])}),r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"positioner"}},[n("span",{staticClass:"sposition"}),n("span"),n("span")])}],a=n("bc3a"),c=n.n(a),l={name:"Questions",data:function(){return{char_01:"<",currentQuestion:"",questionCollection:void 0,pos:0,type:"",cProject:""}},methods:{goNext:function(){this.saveAnswer();var e=this.pos+1;this.pos+=1,e>this.questionCollection.length-1?(this.currentQuestion=this.questionCollection[0].question,this.pos=0,this.renderAnswer(this.questionCollection[this.pos].answers,this.questionCollection[this.pos].type),this.rederImg(this.questionCollection[this.pos])):(this.currentQuestion=this.questionCollection[e].question,this.renderAnswer(this.questionCollection[e].answers,this.questionCollection[e].type),this.rederImg(this.questionCollection[e])),this.positionMarker(this.pos),this.determineEnd()},goBack:function(){var e=this.pos-1;this.pos-=1,-1==e?(this.currentQuestion=this.questionCollection[this.questionCollection.length-1].question,this.pos=this.questionCollection.length-1,this.renderAnswer(this.questionCollection[this.pos].answers,this.questionCollection[this.pos].type),this.rederImg(this.questionCollection[this.pos])):(this.currentQuestion=this.questionCollection[e].question,this.renderAnswer(this.questionCollection[e].answers,this.questionCollection[e].type),this.rederImg(this.questionCollection[e])),this.positionMarker(this.pos),this.determineEnd()},renderAnswer:function(e,t){this.type=t;var n=document.getElementById("answers");if("pick"==t){n.style.paddingLeft="20px",n.innerHTML="",n.style.display="block";for(var s=0;s<e.length;s++){var i='\n                        <input type="radio" name="option" id="option'.concat(s,'" value="').concat(e[s],'" style="margin: 7px 5px;"> \n                        <label for="option').concat(s,'">').concat(e[s],"</label> <br>\n                    ");n.innerHTML+=i}}else if("multi"==t){n.style.paddingLeft="20px",n.innerHTML="",n.style.display="block";for(var o=0;o<e.length;o++){var r='\n                        <input type="checkbox" name="option" id="option'.concat(o,'" value="').concat(e[o],'" style="margin: 7px 5px;"> \n                        <label for="option').concat(o,'">').concat(e[o],"</label> <br>\n                    ");n.innerHTML+=r}n.innerHTML+='<p style="margin: 7px 5px;">(Puedes elegir más de una)</p>'}else if("text"==t){n.style.paddingLeft="0px",n.innerHTML="",n.style.display="flex";var a='\n                        <textarea id="textarea" name="option" placeholder="Escriba su respuesta."></textarea>\n                    ';n.innerHTML+=a}else if("select"==t){n.style.paddingLeft="20px",n.innerHTML="",n.style.display="flex";for(var c='\n                        <select id="select" name="option" placeholder="Escriba su respuesta.">\n                        <option value="" disabled selected>Seleccione...</option>\n                    ',l=0;l<e.length;l++)c+='\n                    <option value="'.concat(e[l],'">').concat(e[l],"</option>\n                    ");n.innerHTML+=c+"</select>"}else n.style.paddingLeft="0px",n.innerHTML=""},rederImg:function(e){var t=document.getElementById("viewImg");e.img?(t.src=e.uri,t.style.display="flex"):(t.src="",t.style.display="none")},saveAnswer:function(){if("multi"==this.type||"pick"==this.type){var e="",t=[],n=document.getElementsByName("option");e=this.currentQuestion;for(var s=0;s<n.length;s++)n[s].checked&&t.push(n[s].value);var i={question:e,answer:t,pos:this.pos};if(0==t.length)return null;this.storageResutls(i)}else if("text"==this.type){var o="",r=document.getElementById("textarea"),a=[r.value];o=this.currentQuestion;var c={question:o,answer:a,pos:this.pos};if(0==a[0].length)return null;this.storageResutls(c)}else if("select"==this.type){var l="",u=document.getElementById("select"),d=[u.value];l=this.currentQuestion;var p={question:l,answer:d,pos:this.pos};if(""==d[0])return null;this.storageResutls(p)}},storageResutls:function(e){var t=this.validateAnswers(e),n=localStorage.getItem("questionStorage");null!=n?t||(n=JSON.parse(n),n.questions.push(e),localStorage.setItem("questionStorage",JSON.stringify(n))):(localStorage.setItem("questionStorage",JSON.stringify({questions:[]})),this.storageResutls(e))},loadQuestions:function(){var e=this,t=this.clienttoken();c.a.get("/api/questions",{headers:{token:t}}).then((function(t){e.questionCollection=t.data[0],e.cProject=t.data[1][0];var n=localStorage.getItem("iwouldliketoask"),s=null!==n?n.project:null;s!==e.cProject&&(localStorage.setItem("questionStorage",JSON.stringify({questions:[]})),localStorage.setItem("iwouldliketoask",JSON.stringify({project:e.cProject}))),e.$emit("count",e.questionCollection.length),e.dataLoaded()})).catch((function(t){var n=String(t).toLowerCase();console.log(n),n.includes("network error")?e.messageBox("Servidor fuera de alcance.",2):n.includes("code 401")?(e.messageBox("Autenticación requerida o invalida.",0),e.$emit("rejected",{code:401})):n.includes("code 404")?e.messageBox("Solictud invalida.",0):n.includes("code 500")?e.messageBox("Estamos teniendo algunos problemas con el servidor.",2):(e.messageBox("Error desconocido.",0),e.$emit("rejected",{code:0}))}))},validateAnswers:function(e){var t=localStorage.getItem("questionStorage");if(null!==t){t=JSON.parse(t);for(var n=t.questions,s=0;s<n.length;s++)if(e.question==n[s].question){if(confirm("Ya habias respondido esta, ¿quieres guardar la nueva respuesta?")){var i=t;return i.questions.splice(s,1),localStorage.setItem("questionStorage",JSON.stringify(i)),!1}return!0}return!1}},determineEnd:function(){var e=localStorage.getItem("iwouldliketoask"),t=localStorage.getItem("questionStorage");if(null!==t){e=JSON.parse(e),t=JSON.parse(t);var n=t.questions,s=null!==e?e.project:null;n.length==this.questionCollection.length&&s==this.cProject?this.$emit("finished",!0):n.length==this.questionCollection.length&&s!==this.cProject?(localStorage.removeItem("iwouldliketoask"),null==e?localStorage.setItem("iwouldliketoask",JSON.stringify({project:this.cProject})):(e.status.project=this.cProject,localStorage.setItem("iwouldliketoask",JSON.stringify(e))),this.$emit("finished",!1)):this.$emit("finished",!1)}},dataLoaded:function(){var e=this;this.currentQuestion=this.questionCollection[0].question,this.renderAnswer(this.questionCollection[0].answers,this.questionCollection[0].type),this.rederImg(this.questionCollection[0]);var t=document.getElementById("viewImg");t.addEventListener("click",(function(t){var n=t.target.getAttribute("src");e.$emit("view",n)})),this.setPositions(),this.positionMarker(0),this.determineEnd(),this.$emit("count",this.questionCollection.length)},positionMarker:function(e){for(var t=document.getElementById("positioner"),n=t.getElementsByTagName("span"),s=0;s<n.length;s++)n[s].getAttribute("id")==e?n[s].classList.add("sposition"):n[s].classList.remove("sposition")},setPositions:function(){var e=document.getElementById("positioner");e.innerHTML="";for(var t=0;t<this.questionCollection.length;t++)e.innerHTML+="<span id=".concat(t,"></span>")}},mounted:function(){document.getElementById("svSpin").style.display="block",this.loadQuestions()}},u=l,d=(n("144a"),n("2877")),p=Object(d["a"])(u,o,r,!1,null,null,null),g=p.exports,m=n("16f4"),f=n.n(m),h=n("849a"),v=n.n(h),y=n("c02d"),w=n.n(y),E=n("8902"),S=n.n(E),x=n("b959"),q=n.n(x),I={name:"survey",title:"I would like to ask...",components:{questions:g},data:function(){return{finished:!1,questionCount:0,access:!1,loading:!0}},methods:{handelRejection:function(e){this.loading=!1,this.access=!1,401==e.code?setTimeout((function(){document.getElementById("afterError").innerText="El servidor rechazó la conexión porque el identificador no es valido.",document.getElementById("afterErrorImg").src=q.a}),125):0==e.code&&setTimeout((function(){document.getElementById("afterError").innerText="Hubo un error, intenta actualizar la página.",document.getElementById("afterErrorImg").src=w.a}),125)},done:function(){var e=this,t=document.getElementById("done");t.style.display="none",document.getElementById("svSpin").style.display="block",document.getElementById("choosen").innerText="Tus respuestas se estan enviando...",document.getElementById("changeAnsP").style.display="none",document.getElementById("ansViewBtn").style.display="none";var n=this.clienttoken(),s=new FormData,i=localStorage.getItem("questionStorage");null!=i&&(i=JSON.parse(i),s.append("answers",JSON.stringify(i.questions))),s.append("client",n),s.append("date",new Date),c.a.post("/api/questions",s,{headers:{token:n}}).then((function(n){if(204==n.status){var s=localStorage.getItem("iwouldliketoask");s=JSON.parse(s),s.sent=new Date,localStorage.setItem("iwouldliketoask",JSON.stringify(s)),e.messageBox("Tus respuestas fueron enviadas!",1),e.$router.push({name:"Done"}),t.style.display="flex",document.getElementById("svSpin").style.display="none",document.getElementById("choosen").innerText='Para enviar tus respuestas haz click en "enviar".',document.getElementById("changeAnsP").style.display="flex",document.getElementById("ansViewBtn").style.display="flex"}})).catch((function(n){t.style.display="flex",document.getElementById("svSpin").style.display="none",document.getElementById("choosen").innerText='Para enviar tus respuestas haz click en "enviar".',document.getElementById("changeAnsP").style.display="flex",document.getElementById("ansViewBtn").style.display="flex";var s=String(n).toLowerCase();s.includes("network error")?e.messageBox("Servidor fuera de alcance.",2):s.includes("code 401")?e.messageBox("Autenticación requerida o invalida.",0):s.includes("code 403")?(e.messageBox("Ya has participado.",2),e.$router.push({name:"Done"})):s.includes("code 404")?e.messageBox("Solictud invalida.",0):s.includes("code 500")?e.messageBox("Estamos teniendo algunos problemas con el servidor.",2):e.messageBox("Error desconocido.",0)}))},showView:function(e){document.getElementById("superView_img").src=e;var t=document.getElementById("superView");t.style.transform="scale(1)"},showSend:function(e){this.finished=e},loadAnswers:function(){var e=this;document.getElementById("navC").style.display="none";var t=document.getElementById("answersView");t.innerHTML="",t.style.display="flex";var n=localStorage.getItem("questionStorage");if(null!=n){n=JSON.parse(n);for(var s=n.questions,i=0;i<s.length;i++)t.innerHTML+='\n            <div class="answerEl">\n              <div class="qaView">\n                <p class="q">'.concat(s[i].question,'</p>\n                <p class="a">R: "').concat(s[i].answer,'"</p>\n              </div>\n              <div id="removeAn">\n                <div id="removeAns" class="cremoveAns" tag="').concat(i,'">X</div>\n              </di>\n            </div>\n          ');if(t.innerHTML+='\n          <div id="edited" >\n                <span class="r_link">Listo!</span>\n          </div>\n        ',s.length>0)for(var o=document.getElementsByClassName("cremoveAns"),r=0;r<o.length;r++)o[r].addEventListener("click",(function(t){var n=t.target,s=n.getAttribute("tag");e.removeAnswer(s)}));document.getElementById("edited").addEventListener("click",(function(){e.editDone()}))}},editDone:function(){var e=localStorage.getItem("questionStorage");if(null!=e){e=JSON.parse(e);var t=e.questions;t.length==this.questionCount?(this.finished=!0,document.getElementById("navC").style.display="block",document.getElementById("answersView").style.display="none"):this.finished=!1}},removeAnswer:function(e){var t=localStorage.getItem("questionStorage");null!=t&&(t=JSON.parse(t),t.questions.splice(e,1),localStorage.setItem("questionStorage",JSON.stringify(t)),this.loadAnswers())},setQuestionCount:function(e){this.questionCount=e,document.getElementById("svSpin").style.display="none"}},mounted:function(){var e=this,t=document.getElementById("superView");t.addEventListener("click",(function(e){var n=e.target.getAttribute("id");"superView"==n&&(t.style.transform="scale(0)")}));var n=this.clienttoken(),s=localStorage.getItem("iwouldliketoask");s=JSON.parse(s);var i=null!==s?s.project:null;c.a.get("/api",{headers:{token:n,project:i}}).then((function(t){204==t.status&&(e.access=!0,e.loading=!1)})).catch((function(t){var n=String(t).toLowerCase();e.loading=!1,e.access=!1,n.includes("network error")?(e.messageBox("Servidor fuera de alcance.",2),document.getElementById("afterError").innerText="Parece que no tienes internet.",document.getElementById("afterErrorImg").src=S.a):n.includes("code 401")?(e.messageBox("Ya has participado.",2),e.$router.push({name:"Done"})):n.includes("code 404")?(e.messageBox("Servidor no encontrado.",0),document.getElementById("afterError").innerText="Servidor no encontrado.",document.getElementById("afterErrorImg").src=f.a):n.includes("code 500")?(e.messageBox("Estamos teniendo algunos problemas con el servidor.",2),document.getElementById("afterError").innerText="Hubo un problema con el servidor.",document.getElementById("afterErrorImg").src=v.a):(e.messageBox("Error desconocido.",0),document.getElementById("afterError").innerText="Hubo un error, intenta actualizar la página.",document.getElementById("afterErrorImg").src=w.a)}))}},B=I,b=(n("37c3"),Object(d["a"])(B,s,i,!1,null,null,null));t["default"]=b.exports},"5a34":function(e,t,n){var s=n("44e7");e.exports=function(e){if(s(e))throw TypeError("The method doesn't accept regular expressions");return e}},"65f0":function(e,t,n){var s=n("861d"),i=n("e8b5"),o=n("b622"),r=o("species");e.exports=function(e,t){var n;return i(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?s(n)&&(n=n[r],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},8418:function(e,t,n){"use strict";var s=n("c04e"),i=n("9bf2"),o=n("5c6c");e.exports=function(e,t,n){var r=s(t);r in e?i.f(e,r,o(0,n)):e[r]=n}},"849a":function(e,t,n){e.exports=n.p+"img/500.5bd55d09.png"},8902:function(e,t,n){e.exports=n.p+"img/noNetwork.2b803e87.png"},"8aef":function(e,t,n){e.exports=n.p+"img/spin.19c896b0.png"},"98fd":function(e,t,n){},"99af":function(e,t,n){"use strict";var s=n("23e7"),i=n("d039"),o=n("e8b5"),r=n("861d"),a=n("7b0b"),c=n("50c4"),l=n("8418"),u=n("65f0"),d=n("1dde"),p=n("b622"),g=n("2d00"),m=p("isConcatSpreadable"),f=9007199254740991,h="Maximum allowed index exceeded",v=g>=51||!i((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),y=d("concat"),w=function(e){if(!r(e))return!1;var t=e[m];return void 0!==t?!!t:o(e)},E=!v||!y;s({target:"Array",proto:!0,forced:E},{concat:function(e){var t,n,s,i,o,r=a(this),d=u(r,0),p=0;for(t=-1,s=arguments.length;t<s;t++)if(o=-1===t?r:arguments[t],w(o)){if(i=c(o.length),p+i>f)throw TypeError(h);for(n=0;n<i;n++,p++)n in o&&l(d,p,o[n])}else{if(p>=f)throw TypeError(h);l(d,p++,o)}return d.length=p,d}})},a434:function(e,t,n){"use strict";var s=n("23e7"),i=n("23cb"),o=n("a691"),r=n("50c4"),a=n("7b0b"),c=n("65f0"),l=n("8418"),u=n("1dde"),d=n("ae40"),p=u("splice"),g=d("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,f=Math.min,h=9007199254740991,v="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!p||!g},{splice:function(e,t){var n,s,u,d,p,g,y=a(this),w=r(y.length),E=i(e,w),S=arguments.length;if(0===S?n=s=0:1===S?(n=0,s=w-E):(n=S-2,s=f(m(o(t),0),w-E)),w+n-s>h)throw TypeError(v);for(u=c(y,s),d=0;d<s;d++)p=E+d,p in y&&l(u,d,y[p]);if(u.length=s,n<s){for(d=E;d<w-s;d++)p=d+s,g=d+n,p in y?y[g]=y[p]:delete y[g];for(d=w;d>w-s+n;d--)delete y[d-1]}else if(n>s)for(d=w-s;d>E;d--)p=d+s-1,g=d+n-1,p in y?y[g]=y[p]:delete y[g];for(d=0;d<n;d++)y[d+E]=arguments[d+2];return y.length=w-s+n,u}})},ab13:function(e,t,n){var s=n("b622"),i=s("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(s){}}return!1}},ae40:function(e,t,n){var s=n("83ab"),i=n("d039"),o=n("5135"),r=Object.defineProperty,a={},c=function(e){throw e};e.exports=function(e,t){if(o(a,e))return a[e];t||(t={});var n=[][e],l=!!o(t,"ACCESSORS")&&t.ACCESSORS,u=o(t,0)?t[0]:c,d=o(t,1)?t[1]:void 0;return a[e]=!!n&&!i((function(){if(l&&!s)return!0;var e={length:-1};l?r(e,1,{enumerable:!0,get:c}):e[1]=1,n.call(e,u,d)}))}},b5ea:function(e,t,n){e.exports=n.p+"img/answer.19e8d9bc.png"},b959:function(e,t,n){e.exports=n.p+"img/401.b4817d1b.png"},c02d:function(e,t,n){e.exports=n.p+"img/unknown.85798347.png"},caad:function(e,t,n){"use strict";var s=n("23e7"),i=n("4d64").includes,o=n("44d2"),r=n("ae40"),a=r("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:!a},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},ddf1:function(e,t,n){},e8b5:function(e,t,n){var s=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==s(e)}}}]);
//# sourceMappingURL=chunk-6af972d8.d79ac7e7.js.map